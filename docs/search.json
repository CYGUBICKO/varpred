[{"path":"/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2022 Bicko Cygu Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Bicko Cygu. Author, maintainer. Ben Bolker. Author. Jonathan Dushoff. Author. John Fox. Copyright holder.            matrix..df get_model_matrix functions implementation copied package effects","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Cygu B, Bolker B, Dushoff J (2022). varpred: Outcome Plots. R package version 1.0.1.","code":"@Manual{,   title = {varpred: Outcome Plots},   author = {Bicko Cygu and Ben Bolker and Jonathan Dushoff},   year = {2022},   note = {R package version 1.0.1}, }"},{"path":"/index.html","id":"varpred","dir":"","previous_headings":"","what":"Outcome Plots","title":"Outcome Plots","text":"package implements two approaches constructing outcome plots (prediction effect plots). include: mean-based approach observed-value approach can also used generate bias-corrected prediction effect estimates generalized linear models involving non-linear link functions, including models random effects. package complements existing ones providing: straightforward way generate effects plots robust way correct non-linear averaging bias generalized (mixed) models","code":""},{"path":"/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Outcome Plots","text":"can install development version varpred GitHub :","code":"# install.packages(\"remotes\") remotes::install_github(\"CYGUBICKO/varpred\")"},{"path":"/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Outcome Plots","text":"basic example shows solve common problem:","code":"library(varpred) ## basic example code 2 + 2"},{"path":"/reference/as.data.frame.varpred.html","id":null,"dir":"Reference","previous_headings":"","what":"Coerce varpred object to as.data.frame — as.data.frame.varpred","title":"Coerce varpred object to as.data.frame — as.data.frame.varpred","text":"Coerce varpred object .data.frame","code":""},{"path":"/reference/as.data.frame.varpred.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Coerce varpred object to as.data.frame — as.data.frame.varpred","text":"","code":"# S3 method for varpred as.data.frame(x, ...)"},{"path":"/reference/as.data.frame.varpred.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Coerce varpred object to as.data.frame — as.data.frame.varpred","text":"x varpred object. ... additional aurguments passed .data.frame.","code":""},{"path":"/reference/combinevarpred.html","id":null,"dir":"Reference","previous_headings":"","what":"Combine varpred objects — combinevarpred","title":"Combine varpred objects — combinevarpred","text":"Combines plots comparison plots two named varpred objects.","code":""},{"path":"/reference/combinevarpred.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Combine varpred objects — combinevarpred","text":"","code":"combinevarpred(   vlist,   lnames = NULL,   plotit = FALSE,   addmarginals = FALSE,   margindex,   ... )"},{"path":"/reference/data.frame.varpred.html","id":null,"dir":"Reference","previous_headings":"","what":"Coerce varpred object to data.frame — data.frame.varpred","title":"Coerce varpred object to data.frame — data.frame.varpred","text":"Coerce varpred object data.frame","code":""},{"path":"/reference/data.frame.varpred.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Coerce varpred object to data.frame — data.frame.varpred","text":"","code":"# S3 method for varpred data.frame(x, ...)"},{"path":"/reference/data.frame.varpred.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Coerce varpred object to data.frame — data.frame.varpred","text":"x varpred object. ... additional aurguments passed data.frame.","code":""},{"path":"/reference/getmeans.html","id":null,"dir":"Reference","previous_headings":"","what":"Get focal and prediction means for a varpred object — getmeans","title":"Get focal and prediction means for a varpred object — getmeans","text":"Get focal prediction means varpred object","code":""},{"path":"/reference/getmeans.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get focal and prediction means for a varpred object — getmeans","text":"","code":"getmeans(object, what = c(\"estimate\", \"focal\"), focal = NULL, modelname = NULL)"},{"path":"/reference/getmeans.varpred.html","id":null,"dir":"Reference","previous_headings":"","what":"Get focal and prediction means for a varpred object — getmeans.varpred","title":"Get focal and prediction means for a varpred object — getmeans.varpred","text":"Get focal prediction means varpred object","code":""},{"path":"/reference/getmeans.varpred.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get focal and prediction means for a varpred object — getmeans.varpred","text":"","code":"# S3 method for varpred getmeans(object, what = c(\"estimate\", \"focal\"), focal = NULL, modelname = NULL)"},{"path":"/reference/pkgsExport.html","id":null,"dir":"Reference","previous_headings":"","what":"Import and export various functions from various packages — pkgsExport","title":"Import and export various functions from various packages — pkgsExport","text":"Import export various functions various packages Import export fixef. See fixef","code":""},{"path":"/reference/plot.vareffects.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot  predictions — plot.vareffects","title":"Plot  predictions — plot.vareffects","text":"Plots estimated conditional marginal predictions.","code":""},{"path":"/reference/plot.vareffects.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot  predictions — plot.vareffects","text":"","code":"# S3 method for vareffects plot(   x,   ...,   xlabs = NULL,   ylabs = NULL,   xtrans_fun = NULL,   pos = 0.5,   ci = TRUE,   facet_scales = \"fixed\",   facet_ncol = NULL )"},{"path":"/reference/plot.vareffects.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot  predictions — plot.vareffects","text":"x varpred object ... future implementations xlabs x-axis label. NULL, default, x.var used. ylabs y-axis label. NULL, default, response label used. xtrans_fun function transform x values original scales. Useful x transformed prior model fitting. pos spacing labels categorical variable plot.","code":""},{"path":"/reference/plot.vareffects.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot  predictions — plot.vareffects","text":"ggplot object.","code":""},{"path":[]},{"path":"/reference/plot.vareffects.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot  predictions — plot.vareffects","text":"","code":"set.seed(4567) x <- rnorm(100, 3, 5) y <- 0.4 + 0.7*x + rnorm(100) df <- data.frame(y = y, x = x) m1 <- lm(y ~ x, df)  pred1 <- varpred(m1, \"x\") plot(pred1) #> Error in xy.coords(x, y, xlabel, ylabel, log): 'x' is a list, but does not have components 'x' and 'y'"},{"path":"/reference/plot.varpred.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot  predictions — plot.varpred","title":"Plot  predictions — plot.varpred","text":"Plots estimated conditional marginal predictions.","code":""},{"path":"/reference/plot.varpred.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot  predictions — plot.varpred","text":"","code":"# S3 method for varpred plot(   x,   ...,   xlabs = NULL,   ylabs = NULL,   xtrans_fun = NULL,   pos = 0.5,   ci = TRUE,   facet_scales = \"fixed\",   facet_ncol = NULL )"},{"path":"/reference/plot.varpred.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot  predictions — plot.varpred","text":"x varpred object ... future implementations xlabs x-axis label. NULL, default, x.var used. ylabs y-axis label. NULL, default, response label used. xtrans_fun function transform x values original scales. Useful x transformed prior model fitting. pos spacing labels categorical variable plot.","code":""},{"path":"/reference/plot.varpred.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot  predictions — plot.varpred","text":"ggplot object.","code":""},{"path":[]},{"path":"/reference/plot.varpred.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot  predictions — plot.varpred","text":"","code":"set.seed(4567) x <- rnorm(100, 3, 5) y <- 0.4 + 0.7*x + rnorm(100) df <- data.frame(y = y, x = x) m1 <- lm(y ~ x, df)  pred1 <- varpred(m1, \"x\") plot(pred1)"},{"path":"/reference/print.varpred.html","id":null,"dir":"Reference","previous_headings":"","what":"Print varpred objects — print.varpred","title":"Print varpred objects — print.varpred","text":"Print varpred objects","code":""},{"path":"/reference/print.varpred.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print varpred objects — print.varpred","text":"","code":"# S3 method for varpred print(x, ...)"},{"path":"/reference/print.varpred.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print varpred objects — print.varpred","text":"x varpred object. ... additional aurguments passed print.","code":""},{"path":"/reference/recoverdata.html","id":null,"dir":"Reference","previous_headings":"","what":"Recover data from the data from the model — recoverdata","title":"Recover data from the data from the model — recoverdata","text":"Recover data data model","code":""},{"path":"/reference/recoverdata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Recover data from the data from the model — recoverdata","text":"","code":"recoverdata(mod, extras = NULL, envir = environment(formula(mod)), ...)"},{"path":"/reference/recoverdata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Recover data from the data from the model — recoverdata","text":"mod fitted model envir data environment ... future implementations optional character vector formula specifying predictors. Important transformation applied formula.","code":""},{"path":"/reference/recoverdata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Recover data from the data from the model — recoverdata","text":"dataframe","code":""},{"path":"/reference/recoverdata.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Recover data from the data from the model — recoverdata","text":"uses fitted model global environment reconstruct data used model. data option specified model formula, dataframe columns corresponding variable formula returned. transformation, e.g. log specified formula terms evaluated returned data frame. However, provided, dataframe constructed formula terms transformations evaluated.","code":""},{"path":"/reference/recoverdata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Recover data from the data from the model — recoverdata","text":"","code":"set.seed(4567) x <- rnorm(100, 3, 5) y <- 0.4 + 0.7*x + rnorm(100) df <- data.frame(y = y, x = x) m1 <- lm(y ~ x, df) d1 <- recoverdata(m1) head(d1) #>            y          x #> 1  0.2230063 -0.6791249 #> 2 -1.9167764 -1.5127303 #> 3  1.6205969  4.2620757 #> 4  3.7020609  6.0751293 #> 5  8.4265286  9.7726720 #> 6  8.4632857 11.0115927 m2 <- lm(y ~ x) d2 <- recoverdata(m2) head(d2) #>            y          x #> 1  0.2230063 -0.6791249 #> 2 -1.9167764 -1.5127303 #> 3  1.6205969  4.2620757 #> 4  3.7020609  6.0751293 #> 5  8.4265286  9.7726720 #> 6  8.4632857 11.0115927"},{"path":"/reference/varefftheme.html","id":null,"dir":"Reference","previous_headings":"","what":"Customized theme for vareffects plots — varefftheme","title":"Customized theme for vareffects plots — varefftheme","text":"Sets theme vareffects ggplot objects","code":""},{"path":"/reference/varefftheme.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Customized theme for vareffects plots — varefftheme","text":"","code":"varefftheme(type = c(\"minimal\", \"complete\"))"},{"path":"/reference/varefftheme.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Customized theme for vareffects plots — varefftheme","text":"","code":"library(ggplot2) varefftheme() set.seed(4567) x <- rnorm(100, 3, 5) y <- 0.4 + 0.7*x + rnorm(100) df <- data.frame(y = y, x = x) m1 <- lm(y ~ x, df)  pred1 <- varpred(m1, \"x\") plot(pred1)"},{"path":"/reference/varpred.html","id":null,"dir":"Reference","previous_headings":"","what":"Prediction and effect estimates — varpred","title":"Prediction and effect estimates — varpred","text":"Computes predictor effect generalized linear (mixed) models together associated confidence intervals anchored values, mostly, model center. also incorporates proaches correcting bias predictions GL(M)Ms involving nonlinear link functions.","code":""},{"path":"/reference/varpred.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prediction and effect estimates — varpred","text":"","code":"varpred(   mod,   focal_predictors,   x.var = NULL,   type = c(\"response\", \"link\"),   isolate = TRUE,   isolate.value = NULL,   level = 0.95,   steps = 100,   at = list(),   dfspec = 100,   true.beta = NULL,   vcov. = NULL,   internal = FALSE,   avefun = mean,   offset = NULL,   bias.adjust = c(\"none\", \"delta\", \"observed\"),   sigma = NULL,   include.re = FALSE,   modelname = NULL,   returnall = FALSE,   ... )"},{"path":"/reference/varpred.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prediction and effect estimates — varpred","text":"mod fitted model object. See details supported class models. focal_predictors character vector one predictors. models interaction, marginal predictions obtained specifying corresponding predictors together. example ~x1*x2 specified c(\"x1\", \"x2\") obtain predictor effect x1 holding x2 x1:x2 typical values. interactions present model, specifying one predictors compares predictions predictors. x.var character specifying predictor define x variable (horizontal axis plot). default NULL, first predictor focal_predictors used. type character specifying desired prediction. type = \"response\" applies inverse transformation, exists. type = \"link\" requests results linear predictor. isolate logical. TRUE, CIs anchored around mean value x.var, .e., centered model matrix. default, deviation variables model matrix mean values can specified isolate.value. isolate.value numeric (default isolate.value = NULL). isolate = TRUE, otherwise ignored, deviation mean x.var. level desired confidence interval computing marginal predictions. Default 0.95. steps number points evaluate numerical predictors focal_predictors. default 100. Unique levels focal_predictors used case categorical predictors. default NULL. Otherwise, named list specifying points evaluate focal_predictors. names list match names used focal_predictors. dfspec default 100. Specified degrees freedom model return df. used computation confidence intervals. vcov. function matrix. function, used compute variance-covariance matrix model coefficients. function take model first (maybe ) argument. matrix variance-covariance matrix estimated coefficient can also used. Otherwise vcov(mod) used internally. Specifying vcov. important \"anchored\" CIs required. However, approach, predictors properly scaled, example, scaled. isolate=TRUE centers mean model matrix without requiring scaled input predictors. See examples. internal logical. TRUE, entries non-focal predictor (see x.var) variance-covariance matrix internally zeroed-using zero_vcov. Default FALSE. avefun averaging scheme (function) used conditioning non-focal predictors. Default mean. offset function value (FIXME:). bias.adjust specifies bias correction method. \"none\" (default), bias correction method applied; \"delta\", delta method used; \"observed\", values non-focal predictors used; otherwise, \"quantile\", quantiles non-focal numerical predictors use. options \"quantile\" \"observed\" (EXPERIMENTAL) used bias correction GL(M)M models involving non-linear link functions. sigma standard deviation used delta method (bias.adjust=\"delta\"). include.re logical. TRUE, random effects components mixed models included. returnall logical. TRUE, named computed quantities also returned. Otherwise, predictions returned. character string naming predictions. Useful comparing several predictions.","code":""},{"path":"/reference/varpred.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Prediction and effect estimates — varpred","text":"Predictor effects computes E(Y|X) meaningfully holding non-focal predictors constant (averaged meaningful way) varying focal predictor, goal response (E(Y|X)) represents model responds changes focal predictor. traditional way compute variances predictions \\(\\sigma^2 = \\textrm{Diag}(\\bX^\\star \\Sigma \\bX^{\\star\\top})\\), confidence intervals \\(\\eta \\pm q\\sigma\\), \\(q\\) appropriate quantile Normal t distribution. approach incorporates uncertainties -- including uncertainty due non-focal predictors.  interested uncertainty result focal predictor, confidence intervals \\(\\eta \\pm q \\sigma_f\\) (call anchored CIs)? two ways anchor CIs: variance-covariance matrix based requires properly scaled input predictors prior model fitting; centered model matrix general require scaled input predictors prior model fitting. Currently, package supports lm, glm, lme4 glmmTMB models.","code":""},{"path":[]},{"path":"/reference/varpred.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Prediction and effect estimates — varpred","text":"","code":"# Set theme for ggplot. Comment out if not needed varefftheme() set.seed(101) N <- 100 x1_min <- 1 x1_max <- 9 b0 <- 0.3 b1 <- 0.1 b2 <- -0.6 b3 <- 0.01 x2_levels <- factor(c(\"A\", \"B\", \"D\")) df <- expand.grid(x1u = runif(n=N, min=x1_min, max=x1_max)   , x2u = x2_levels ) X <- model.matrix(~x1u + x2u, df) betas <- c(b0, b1, b2, b3) df$y <- rnorm(nrow(df), mean= X %*% betas, sd=1) df2 <- df df <- transform(df   , x1c = drop(scale(x1u, scale=FALSE)) ) head(df) #>        x1u x2u          y       x1c #> 1 3.977587   A -0.4524966 -1.222599 #> 2 1.350599   A  0.1605887 -3.849588 #> 3 6.677472   A  1.5456482  1.477286 #> 4 6.261523   A -0.4707503  1.061337 #> 5 2.998846   A  1.3489423 -2.201340 #> 6 3.400439   A -0.4111428 -1.799747  # Unscaled model m1u <- lm(y ~ x1u + x2u, df) # Predictor rffects of x1u pred1u <- varpred(m1u, \"x1u\") plot(pred1u)   # Scaled model (x1 centered = x1 - mean(x1)) m1c <- lm(y ~ x1c + x2u, df) # All uncertainities included pred1c <- varpred(m1c, \"x1c\") plot(pred1c)   # Centered predictor effects # Results similar to m1c # Using zero_vcov by specifying vcov. vv <- zero_vcov(m1c, \"x1c\") pred2c <- varpred(m1c, \"x1c\", vcov. = vv) plot(pred2c)   # Using mean centering (isolate) pred3c <- varpred(m1u, \"x1u\", isolate = TRUE) plot(pred3c)  all.equal(pred2c$pred[,-1], pred3c$pred[,-1], check.attributes = FALSE) #> [1] TRUE  # Compare across groups pred4c <- varpred(m1c, c(\"x1c\", \"x2u\"), x.var = \"x1c\", isolate = TRUE) plot(pred4c)"},{"path":"/reference/zero_vcov.html","id":null,"dir":"Reference","previous_headings":"","what":"Zero-out entries of non-focal entries of variance-covariance matrix. — zero_vcov","title":"Zero-out entries of non-focal entries of variance-covariance matrix. — zero_vcov","text":"Transforms entries variance-covariance coefficients corresponding non-focal variables zero.","code":""},{"path":"/reference/zero_vcov.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Zero-out entries of non-focal entries of variance-covariance matrix. — zero_vcov","text":"","code":"zero_vcov(m, focal_vars, complete)"},{"path":"/reference/zero_vcov.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Zero-out entries of non-focal entries of variance-covariance matrix. — zero_vcov","text":"focal_vars character vector specifying variable(s) appearing right side formula fitted model. entries variable non-zero. complete logical indicating full variance-covariance matrix returned. mod fitted model object full variance-covariance matrix terms appearing way appear coefficients.","code":""},{"path":"/reference/zero_vcov.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Zero-out entries of non-focal entries of variance-covariance matrix. — zero_vcov","text":"variance-covariance matrix estimated parameters non-zero entry corresponding focal variable.","code":""},{"path":"/reference/zero_vcov.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Zero-out entries of non-focal entries of variance-covariance matrix. — zero_vcov","text":"","code":"set.seed(4567) x <- rnorm(100, 3, 5) y <- 0.4 + 0.7*x + rnorm(100) df <- data.frame(y = y, x = x) m1 <- lm(y ~ x, df) print(zero_vcov(m1, \"x\")) #>             (Intercept)            x #> (Intercept)           0 0.0000000000 #> x                     0 0.0004842308"},{"path":"/news/index.html","id":"varpred-0009000","dir":"Changelog","previous_headings":"","what":"varpred 0.0.0.9000","title":"varpred 0.0.0.9000","text":"Added NEWS.md file track changes package.","code":""}]
